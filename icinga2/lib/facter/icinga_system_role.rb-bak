# You can't have the same facter name (with different logic) 
# as facts defined in other variables, this will cause things to break.
# -Baris
#Facter.add('system_role') do
Facter.add('icinga2_system_role') do
  setcode do
    hostname = Facter.value(:hostname)
    case hostname
    when /^resplr-*/
	'resplr'
    when /^restool-*/
      'restool'
    when /^respoller-*/
	'respoller'
    else
      'base'
    end
  end
end

