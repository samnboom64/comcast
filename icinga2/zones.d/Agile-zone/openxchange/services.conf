#OpenXchange Service checks
apply Service "OX:HeapMemoryUsage" {
	import "openxchange-service"
	display_name ="OX:HeapMemoryUsage"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:HeapMemoryUsage"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:NonHeapMemoryUsage" {
	import "openxchange-service"
	display_name ="OX:NonHeapMemoryUsage"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:NonHeapMemoryUsage"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:SystemCpuLoad" {
	import "openxchange-service"
	display_name ="OX:SystemCpuLoad"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:SystemCpuLoad"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:OpenFileDescriptorCount" {
	import "openxchange-service"
	display_name ="OX:OpenFileDescriptorCount"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:OpenFileDescriptorCount"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:SystemLoadAverage" {
	import "openxchange-service"
	display_name ="OX:SystemLoadAverage"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:SystemLoadAverage"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:ProcessCpuLoad" {
	import "openxchange-service"
	display_name ="OX:ProcessCpuLoad"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:ProcessCpuLoad"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:ProcessCpuTime" {
	import "openxchange-service"
	display_name ="OX:ProcessCpuTime"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:ProcessCpuTime"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:Uptime" {
	import "openxchange-service"
	display_name ="OX:Uptime"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:Uptime"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:StartTime" {
	import "openxchange-service"
	display_name ="OX:StartTime"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:StartTime"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:TotalLoadedClassCount" {
	import "openxchange-service"
	display_name ="OX:TotalLoadedClassCount"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:TotalLoadedClassCount"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:DaemonThreadCount" {
	import "openxchange-service"
	display_name ="OX:DaemonThreadCount"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:DaemonThreadCount"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:PeakThreadCount" {
	import "openxchange-service"
	display_name ="OX:PeakThreadCount"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:PeakThreadCount"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:TotalStartedThreadCount" {
	import "openxchange-service"
	display_name ="OX:TotalStartedThreadCount"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:TotalStartedThreadCount"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:ThreadCount" {
	import "openxchange-service"
	display_name ="OX:ThreadCount"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:ThreadCount"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:DB_MasterConnectionsFetched" {
	import "openxchange-service"
	display_name ="OX:DB_MasterConnectionsFetched"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:DB_MasterConnectionsFetched"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:DB_SlaveConnectionsFetched" {
	import "openxchange-service"
	display_name ="OX:DB_SlaveConnectionsFetched"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:DB_SlaveConnectionsFetched"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:DB_MasterInsteadOfSlave" {
	import "openxchange-service"
	display_name ="OX:DB_MasterInsteadOfSlave"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:DB_MasterInsteadOfSlave"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:DB_NumConnections" {
	import "openxchange-service"
	display_name ="OX:DB_NumConnections"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:DB_NumConnections"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:DB_Write_NumWaiting" {
	import "openxchange-service"
	display_name ="OX:DB_Write_NumWaiting"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:DB_Write_NumWaiting"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:DB_Write_AvgUseTime" {
	import "openxchange-service"
	display_name ="OX:DB_Write_AvgUseTime"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:DB_Write_AvgUseTime"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:DB_Write_MinUseTime" {
	import "openxchange-service"
	display_name ="OX:DB_Write_MinUseTime"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:DB_Write_MinUseTime"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:DB_Write_PoolSize" {
	import "openxchange-service"
	display_name ="OX:DB_Write_PoolSize"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:DB_Write_PoolSize"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:DB_Write_NumActive" {
	import "openxchange-service"
	display_name ="OX:DB_Write_NumActive"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:DB_Write_NumActive"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:DB_Write_NumBrokenConnections" {
	import "openxchange-service"
	display_name ="OX:DB_Write_NumBrokenConnections"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:DB_Write_NumBrokenConnections"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:DB_Write_NumIdle" {
	import "openxchange-service"
	display_name ="OX:DB_Write_NumIdle"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:DB_Write_NumIdle"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:DB_Write_MaxUseTime" {
	import "openxchange-service"
	display_name ="OX:DB_Write_MaxUseTime"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:DB_Write_MaxUseTime"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:DB_Read_NumWaiting" {
	import "openxchange-service"
	display_name ="OX:DB_Read_NumWaiting"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:DB_Read_NumWaiting"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:DB_Read_AvgUseTime" {
	import "openxchange-service"
	display_name ="OX:DB_Read_AvgUseTime"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:DB_Read_AvgUseTime"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:DB_Read_MinUseTime" {
	import "openxchange-service"
	display_name ="OX:DB_Read_MinUseTime"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:DB_Read_MinUseTime"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:DB_Read_PoolSize" {
	import "openxchange-service"
	display_name ="OX:DB_Read_PoolSize"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:DB_Read_PoolSize"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:DB_Read_NumActive" {
	import "openxchange-service"
	display_name ="OX:DB_Read_NumActive"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:DB_Read_NumActive"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:DB_Read_NumBrokenConnections" {
	import "openxchange-service"
	display_name ="OX:DB_Read_NumBrokenConnections"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:DB_Read_NumBrokenConnections"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:DB_Read_NumIdle" {
	import "openxchange-service"
	display_name ="OX:DB_Read_NumIdle"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:DB_Read_NumIdle"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:DB_Read_MaxUseTime" {
	import "openxchange-service"
	display_name ="OX:DB_Read_MaxUseTime"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:DB_Read_MaxUseTime"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:NumberOfSyncMLConnections" {
	import "openxchange-service"
	display_name ="OX:NumberOfSyncMLConnections"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:NumberOfSyncMLConnections"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:NumberOfActiveSessions" {
	import "openxchange-service"
	display_name ="OX:NumberOfActiveSessions"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:NumberOfActiveSessions"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:NumberOfIdleMailConnections" {
	import "openxchange-service"
	display_name ="OX:NumberOfIdleMailConnections"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:NumberOfIdleMailConnections"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:NumberOfWebDAVUserConnections" {
	import "openxchange-service"
	display_name ="OX:NumberOfWebDAVUserConnections"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:NumberOfWebDAVUserConnections"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:NumberOfIMAPConnections" {
	import "openxchange-service"
	display_name ="OX:NumberOfIMAPConnections"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:NumberOfIMAPConnections"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:NumberOfOpenAJPSockets" {
	import "openxchange-service"
	display_name ="OX:NumberOfOpenAJPSockets"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:NumberOfOpenAJPSockets"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:NumberOfRunningAJPListeners" {
	import "openxchange-service"
	display_name ="OX:NumberOfRunningAJPListeners"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:NumberOfRunningAJPListeners"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:NumberOfOutlookConnections" {
	import "openxchange-service"
	display_name ="OX:NumberOfOutlookConnections"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:NumberOfOutlookConnections"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:NumberOfAJAXConnections" {
	import "openxchange-service"
	display_name ="OX:NumberOfAJAXConnections"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:NumberOfAJAXConnections"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:NumTimeoutConnections" {
	import "openxchange-service"
	display_name ="OX:NumTimeoutConnections"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:NumTimeoutConnections"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:MaxUseTime" {
	import "openxchange-service"
	display_name ="OX:MaxUseTime"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:MaxUseTime"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:NumBrokenConnections" {
	import "openxchange-service"
	display_name ="OX:NumBrokenConnections"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:NumBrokenConnections"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:NumActive" {
	import "openxchange-service"
	display_name ="OX:NumActive"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:NumActive"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:MinUseTime" {
	import "openxchange-service"
	display_name ="OX:MinUseTime"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:MinUseTime"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:NumSuccessfulLogins" {
	import "openxchange-service"
	display_name ="OX:NumSuccessfulLogins"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:NumSuccessfulLogins"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:NumFailedLogins" {
	import "openxchange-service"
	display_name ="OX:NumFailedLogins"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:NumFailedLogins"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:AvgUseTime" {
	import "openxchange-service"
	display_name ="OX:AvgUseTime"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:AvgUseTime"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:BufferPool_Pool" {
	import "openxchange-service"
	display_name ="OX:BufferPool_Pool"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:BufferPool_Pool"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}
apply Service "OX:BufferPool_MemoryUsed" {
	import "openxchange-service"
	display_name ="OX:BufferPool_MemoryUsed"
	check_command = "nrpe8k"
	vars.nrpe_timeout = 60
	vars.nrpe_timeout_unknown = true
	vars.nrpe_command = "check_jmx"
	vars.nrpe_arguments = "OX:BufferPool_MemoryUsed"
	assign where "ox_poc_lab" in host.groups
	assign where "ox_beta_middleware" in host.groups
}

###############HA proxy service checks

apply Service "OXHA:check_haproxy_service" {
        import "openxchange-service"
        display_name= "OXHA:check_haproxy_service"
        check_command = "nrpe8k"
        vars.nrpe_timout = 60
        vars.nrpe_timout_unknown = true
        vars.nrpe_command = "check_haproxy_service"
        assign where "ox_beta_haproxy" in host.groups
}

apply Service "OXHA:check_KeepAlived_service" {
        import "openxchange-service"
        display_name= "OXHA:check_KeepAlived_service"
        check_command = "nrpe8k"
        vars.nrpe_timout = 60
        vars.nrpe_timout_unknown = true
        vars.nrpe_command = "check_keepalived_proc"
        assign where "ox_beta_haproxy" in host.groups
}

apply Service "OXFE:check_http_port" {
	import "openxchange-service"
        display_name= "OXFE:check_http_port"
	check_command = "tcp_icinga"
	vars.tcp_port = 80
	assign where "ox_beta_frontend" in host.groups
}

apply Service "OXFE:check_https_port" {
        import "openxchange-service"
        display_name= "OXFE:check_https_port"
        check_command = "tcp_icinga"
        vars.tcp_port = 443
        assign where "ox_beta_frontend" in host.groups
}

########## Reverse proxy checks

apply Service "OXFE:check_apache_proc" {
        import "openxchange-service"
        display_name= "OXFE:check_apache_proc"
        check_command = "nrpe8k"
        vars.nrpe_timout = 60
        vars.nrpe_timout_unknown = true
	vars.nrpe_command = "check_apache_proc"
        assign where "ox_beta_frontend" in host.groups
}

#########middle ware checks

#apply Service "OXMW:check_ox_port" {
#        import "openxchange-service"
#        display_name= "OXMW:check_ox_port"
#        check_command = "tcp_icinga"
#        vars.tcp_port = 8009
#        assign where "ox_beta_middleware" in host.groups
#}

#### Common service checks OX Beta servers ####

apply Service "OXHA:check_root /" {
        import "openxchange-service"
        display_name= "OXHA:check root"
        check_command = "nrpe8k"
        vars.nrpe_timout = 60
        vars.nrpe_timout_unknown = true
        vars.nrpe_command = "check_vda1"
        #assign where "ox_beta_haproxy" in host.groups
	#assign where "ox_beta_frontend" in host.groups
	assign where "ox_beta" in host.groups
	ignore where host.name in ["reshaproxy-cmce-webvip","reshaproxy-cmce-dbvip"]
}

apply Service "OXHA:check_load" {
	import "openxchange-service"
	display_name= "OXHA:check_load"
	check_command = "nrpe8k"
	vars.nrpe_timout = 60
	vars.nrpe_timout_unknown = true
	vars.nrpe_command = "check_load"
	#assign where "ox_beta_haproxy" in host.groups
	#assign where "ox_beta_frontend" in host.groups
	assign where "ox_beta" in host.groups
        ignore where host.name in ["reshaproxy-cmce-webvip","reshaproxy-cmce-dbvip"]
}

