apply Service "HPROXY:JVM_gc" {
        import "generic-service"
        display_name ="HPROXY:JVM_gc"
        check_command ="nrpe8k"
        vars.nrpe_command = "zimbra_jvm_gc"
        vars.nrpe_no_ssl = true
        vars.nrpe_timeout = 60
        assign where "zimbra8-hproxy" in host.groups
	assign where "zimbra8-aproxy" in host.groups
}

apply Service "HPROXY:JVM_gc_minor" {
        import "generic-service"
        display_name ="HPROXY:JVM_gc_minor"
        check_command ="nrpe8k"
        vars.nrpe_command = "zimbra_jvm_gcminor"
        vars.nrpe_no_ssl = true
        vars.nrpe_timeout = 60
        assign where "zimbra8-hproxy" in host.groups
	assign where "zimbra8-aproxy" in host.groups
}

apply Service "HPROXY:JVM_heapsize" {
        import "generic-service"
        display_name ="HPROXY:JVM_heapsize"
        check_command ="nrpe8k"
        vars.nrpe_command = "zimbra_jvm_heapsize"
        vars.nrpe_no_ssl = true
        vars.nrpe_timeout = 60
        assign where "zimbra8-hproxy" in host.groups
	assign where "zimbra8-aproxy" in host.groups
}

apply Service "HPROXY:LOG" {
        import "generic-service"
        display_name ="HPROXY:LOG"
        check_command ="nrpe8k"
        vars.nrpe_command = "check_pprxy_z8_log"
        vars.nrpe_no_ssl = true
        vars.nrpe_timeout = 60
        assign where "zimbra8-hproxy" in host.groups
	assign where "zimbra8-aproxy" in host.groups
}

apply Service "HTTP:ACCESS_ipv4" {
        import "generic-service"
        display_name ="HTTP:ACCESS_ipv4"
        check_command ="http"
        vars.http_timeout = 120
        vars.http_vhost = "$check_address$"
        vars.http_warn_time = 30
        vars.http_critical_time = 60
        vars.http_ssl = "False"
        assign where "zimbra8-hproxy" in host.groups
	assign where "zimbra8-aproxy" in host.groups
}

apply Service " HTTP:ACCESS_ipv6_ch2 " {
        import "generic-service"
        display_name =" HTTP:ACCESS_ipv6_ch2 "
        check_command ="nrpe8k"
        vars.nrpe_command = "check_ipv6_http"
        vars.nrpe_no_ssl = true
        vars.nrpe_timeout = 60
        vars.nrpe_address = "resrbt-ch2-01v.sys.comcast.net"
        vars.nrpe_arguments = [ "120", "30", "60", host.name ]
        assign where "zimbra8-hproxy-ch2" in host.groups
	assign where "zimbra8-aproxy-ch2" in host.groups
}

apply Service "HTTPS:ACCESS_ipv4" {
        import "generic-service"
        display_name ="HTTPS:ACCESS_ipv4"
        check_command ="http"
        vars.http_timeout = 120
        vars.http_vhost = "$check_address$"
        vars.http_warn_time = 30
        vars.http_critical_time = 60
        vars.http_ssl = "True"
        assign where "zimbra8-hproxy" in host.groups
        assign where "zimbra8-aproxy" in host.groups
}

apply Service " HTTPS:ACCESS_ipv6_ch2 " {
        import "generic-service"
        display_name =" HTTPS:ACCESS_ipv6_ch2 "
        check_command ="nrpe8k"
        vars.nrpe_command = "check_ipv6_https"
        vars.nrpe_no_ssl = true
        vars.nrpe_timeout = 60
        vars.nrpe_address = "resrbt-ch2-01v.sys.comcast.net"
        vars.nrpe_arguments = [ "120", "30", "60", host.name ]
        assign where "zimbra8-hproxy-ch2" in host.groups
        assign where "zimbra8-aproxy-ch2" in host.groups
}

apply Service "NET:hproxy_connections" {
        import "generic-service"
        display_name ="NET:hproxy_connections"
        check_command ="nrpe8k"
        vars.nrpe_command = "check_ss"
        vars.nrpe_no_ssl = true
        vars.nrpe_timeout = 60
        vars.nrpe_arguments = [ "1000", "500" ]
        assign where "zimbra8-hproxy" in host.groups
}

apply Service "PROXY:http_codes" {
        import "generic-service"
        display_name ="PROXY:http_codes"
        check_command ="nrpe8k"
        vars.nrpe_command = "check_hproxy_http_codes"
        vars.nrpe_no_ssl = true
        vars.nrpe_timeout = 60
        assign where "zimbra8-hproxy" in host.groups
}

apply Service "NET:aproxy_connections" {
        import "generic-service"
        display_name ="NET:aproxy_connections"
        check_command ="nrpe8k"
        vars.nrpe_command = "check_ss"
        vars.nrpe_no_ssl = true
        vars.nrpe_timeout = 60
        vars.nrpe_arguments = [ "1000", "500" ]
        assign where "zimbra8-aproxy" in host.groups
}


apply Service "PROXY:yhm_http_codes" {
        import "generic-service"
        display_name ="PROXY:yhm_http_codes"
        check_command ="nrpe8k"
        vars.nrpe_command = "check_aproxy_http_codes"
        vars.nrpe_no_ssl = true
        vars.nrpe_timeout = 60
        assign where "zimbra8-aproxy" in host.groups
}
